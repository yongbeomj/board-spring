<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div th:replace="header.html :: header"></div>

<div class="container">
    <h2>Board 2 view</h2>
    <table class="table">
        <tr>
            <td>제목</td>
            <td>
                <span id="tdtitle" th:text="${boardDto.btitle}"></span>
            </td>
        </tr>
        <tr>
            <td>내용</td>
            <td>
                <span id="tdcontents" th:text="${boardDto.bcontents}"></span>
            </td>
        </tr>
        <tr>
            <td>작성자</td>
            <td>
                <span id="tdwriter" th:text="${boardDto.bwriter}"></span>
            </td>
        </tr>
        <tr>
            <td>작성일</td>
            <td>
                <span th:text="${#temporals.format(boardDto.bcreateDate, 'yyyy-MM-dd hh:mm:ss')}"></span>
            </td>
        </tr>
    </table>
    <div class="d-flex">
        <div>
            <a th:href="@{'/board2/boardupdate/'} + ${boardDto.bno}">
                <button id="btnbupdate" type="button" class="btn btn-outline-secondary">수정</button>
            </a>
        </div>
        <div>
            <button class="btn btn-outline-secondary mx-2" th:onclick="bdelete([[${boardDto.bno}]], [[${boardDto.cano}]])">삭제</button>
        </div>
    </div>

    <hr>

    <div class="row">
        <div class="col-md-10">
            <input class="form-control " type="text" id="rcontents" name="rcontents">
        </div>
        <div class="col-md-2">
            <button class="form-control" th:onclick="replywrite([[${boardDto.bno}]])">댓글작성</button>
        </div>
    </div>

    <table class="table" id="replytable">
        <tr>
            <th width="8%">작성자</th>
            <th width="10%">작성일</th>
            <th width="65%">내용</th>
            <th width="10%">비고</th>
        </tr>
        <tr th:each="replyEntities : ${replyEntities}">
            <td th:text="${replyEntities.getMemberEntity2().getMid()}">작성자</td>
            <td th:text="${#temporals.format(replyEntities.createdDate, 'yyyy-MM-dd hh:mm:ss')}"
                style="font-size:15px;">작성일
            </td>
            <td>
                <div id="rupdate">
                    <span th:id="tdrcontents+${replyEntities.rno}" name="tdrcontents"
                          th:text="${replyEntities.rcontents}"></span>
                </div>
            </td>
            <td>
                <div class="d-flex justify-content-between">
                    <div>
                        <button class="btn btn-secondary" th:onclick="rdelete([[${replyEntities.rno}]])">삭제</button>
                    </div>
                    <div>
                        <a th:id="btnrupdate+${replyEntities.rno}" th:onclick="rupdate([[${replyEntities.rno}]])">
                            <button class="btn btn-secondary">수정</button>
                        </a>
                    </div>
                    <div>
                        <a th:id="btnrchange+${replyEntities.rno}" style="display:none;">
                            <button class="btn btn-secondary">확인</button>
                        </a>
                    </div>
                </div>


            </td>
        </tr>
    </table>
</div>


</body>
</html>